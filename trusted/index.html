<html>
<head>
	<title>Trusted Party Secure Session Creator</title>

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"
          integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"
          integrity="sha256-obZACiHd7gkOk9iIL/pimWMTJ4W/pBsKu+oZnSeBIek=" crossorigin="anonymous"></script>
	<script type="text/javascript" src="script/filesaver.js"></script>
	<script type="text/javascript" src="script/generateSession.js"></script>
  <link rel="stylesheet" type="text/css" href="style/bootstrap/css/bootstrap.css">
  <style>
    #infoDiv {
        visibility: hidden;
    }
    textarea {
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="page-header">
      <table width="100%">
        <tr>
          <td>
            <h1>Trusted Party<br/><small>Secure Session Creator</small></h1>
          </td>
          <td align="right">
            <img src="../shared/bu.png" width="110px"/>
          </td>
        </tr>
      </table>
    </div>
    <div>
      <h2>Instructions</h2>
      <p>
        After generating a secure session, please keep the private key files named <b>Session_#######_private_key.pem</b> and <b>Session_#######_password.txt</b>.
        All secured data will be lost if the private key is lost. Also, you will not be able to manage the session if you loose the password or session key.
        Do <b>not</b> share your private key. Click on "Go To Live Data Page", enter the password, then generate and email links to the participants.
        You can generate more links later. Once the data is collected from the participants, with your private key, continue to the next step.
      </p>
      
      <textarea id="session-title" rows="1" placeholder="Title" maxlength="255"></textarea> <br/>
      <textarea id="session-description" rows="10" placeholder="Description" maxlength="4096"></textarea>
    </div>
    <br/>
    <button class="btn btn-primary btn-lg" id="Generate"
            onclick="generateSession('infoDiv','sessionID', 'passwordID', 'pubkeyID','privkeyID','linkID', 'session-title', 'session-description')">
      Generate Session
    </button>
      <div id="infoDiv">
        <h3><a id="linkID" href="session_data.html"></a></h3>
        <br/>
        <h3>Session Key (please email to participants)</h3>
        <pre id="sessionID"></pre>
        <h3>Session Password (Keep to yourself to unmask and manage session)</h3>
        <pre id="passwordID"></pre>
        <br/>
        <h3>Public Key</h3>
        <pre id="pubkeyID"></pre>
        <br/>
        <h3>Private Key (do not share)</h3>
        <pre id="privkeyID"></pre>
      </div>
    </div>
</body>
</html>
